! Title: ðŸ§¹ BroomTube â€“ A YouTube Cleanup List
! Description: Personal filter selection based on r/uBlockOrigin YouTube solutions
! Author: caniyo
! Homepage: https://github.com/caniyo/ublock-filters
! License: MIT
! Expires: 1 day
!
! Status: Work in Progress
! This filter list is actively maintained and incomplete.
! Rules are added or adjusted as needed.


! ==================================================
! = YouTube
! ==================================================
! All rules in this section apply exclusively to YouTube.
! The goal is to reduce clutter, recommendations and
! unwanted content while keeping the platform functional.
! ==================================================


! --------------------------------------------------
! Live Content
! --------------------------------------------------

! Hide currently live videos
www.youtube.com##ytd-rich-item-renderer,ytd-grid-video-renderer,ytd-compact-video-renderer,ytd-item-section-renderer:has(ytd-badge-supported-renderer[icon="LIVE"])


! --------------------------------------------------
! Shorts Removal
! --------------------------------------------------

! Menu â€“ hide Shorts button
www.youtube.com###guide [title="Shorts"],.ytd-mini-guide-entry-renderer[title="Shorts"]

! Search â€“ hide Shorts videos
www.youtube.com##ytd-search ytd-video-renderer:has([overlay-style="SHORTS"],[href^="/shorts/"])

! Search, channels, subscriptions, recommendations â€“ hide Shorts shelves
www.youtube.com##ytd-reel-shelf-renderer

! Channels â€“ hide Shorts tab
www.youtube.com##[tab-title="Shorts"]

! Subscriptions â€“ hide Shorts (grid view)
www.youtube.com##ytd-browse[page-subtype="subscriptions"] ytd-grid-video-renderer:has([overlay-style="SHORTS"],[href^="/shorts/"])

! Subscriptions â€“ hide Shorts (list view)
www.youtube.com##ytd-browse[page-subtype="subscriptions"] ytd-video-renderer:has([overlay-style="SHORTS"],[href^="/shorts/"])

! Subscriptions â€“ new layout â€“ hide Shorts
www.youtube.com##ytd-browse[page-subtype="subscriptions"] ytd-rich-item-renderer:has([overlay-style="SHORTS"],[href^="/shorts/"])

! Sidebar â€“ hide Shorts
www.youtube.com###related :is(ytd-compact-video-renderer,yt-lockup-view-model):has([overlay-style="SHORTS"],[href^="/shorts/"])

! History â€“ hide Shorts
www.youtube.com##ytd-item-section-renderer[page-subtype]:has(>#contents>[is-history]>#dismissible>ytd-thumbnail>#thumbnail[href^="/shorts/"])


! --------------------------------------------------
! Shorts Layout Fix (Subscriptions)
! --------------------------------------------------

! Fix gaps left by removed Shorts in subscriptions grid
www.youtube.com##ytd-browse[page-subtype="subscriptions"] ytd-rich-grid-renderer #contents:style(display:flex!important;flex-wrap:wrap!important;)
www.youtube.com##ytd-browse[page-subtype="subscriptions"] ytd-rich-item-renderer:style(margin:0!important;)


! --------------------------------------------------
! Long Videos (Subscriptions only)
! --------------------------------------------------

! Hide videos longer than 2 hours in subscriptions feed
www.youtube.com##ytd-browse[page-subtype="subscriptions"] ytd-rich-item-renderer:has(ytd-thumbnail-overlay-time-status-renderer:has-text(/^[2-9]\d?:\d\d/))


! --------------------------------------------------
! Suggested & Recommended Videos
! --------------------------------------------------

! Subscriptions â€“ hide videos based on channel URLs
www.youtube.com##ytd-browse[page-subtype="subscriptions"] ytd-rich-item-renderer:has([href="/channel/channel1-ID-here"],[href="@/Channel2NameHere"])

! Subscriptions â€“ hide videos based on titles
www.youtube.com##ytd-browse[page-subtype="subscriptions"] ytd-rich-item-renderer:has(:is(#video-title-link,h3):is([title*="Partial Match"],[title*="Case-Insensitive Partial Match"i],[title~="Space-separated-aka-Whole-word-match"]))

! Sidebar â€“ hide videos based on titles
www.youtube.com###related :is(ytd-compact-video-renderer,yt-lockup-view-model):has(:is(#video-title,h3):is([title*="Partial Match"],[title*="Case-Insensitive Partial Match"i],[title~="Space-separated-aka-Whole-word-match"]))

! Sidebar â€“ hide videos based on channel names (procedural)
www.youtube.com###related :is(ytd-compact-video-renderer,yt-lockup-view-model) .yt-content-metadata-view-model__metadata-row:first-child>span:has-text(/^(Channel Name 1|Channel Name 2)$/):upward(ytd-compact-video-renderer,yt-lockup-view-model)

! Watch page â€“ hide sidebar
www.youtube.com##ytd-watch-flexy #secondary


! --------------------------------------------------
! Sidebar Cleanup
! --------------------------------------------------

! Hide Explore section
www.youtube.com##ytd-guide-section-renderer:has(ytd-guide-entry-renderer a[title="Explore"])

! Hide "More from YouTube" section
www.youtube.com##ytd-guide-section-renderer:has(ytd-guide-entry-renderer a[title="YouTube Premium"])


! --------------------------------------------------
! Paid Promotion
! --------------------------------------------------

! Hide paid promotion overlay
www.youtube.com##.ytp-paid-content-overlay,.ytmPaidContentOverlayHost


! --------------------------------------------------
! Player UI & Endscreen Behavior
! --------------------------------------------------

! Hide endscreen recommendations
www.youtube.com##.html5-video-player.ended-mode .ytp-fullscreen-grid

! Fullscreen â€“ remove recommendation grid when scrolling up
www.youtube.com##.html5-video-player.ytp-fullscreen:is(.ytp-fullscreen-grid-peeking,.ytp-fullscreen-grid-active) .ytp-fullscreen-grid
www.youtube.com##.html5-video-player.ytp-fullscreen:is(.ytp-fullscreen-grid-peeking,.ytp-fullscreen-grid-active) .ytp-gradient-bottom

! Fullscreen â€“ keep controls visible and usable
www.youtube.com##.html5-video-player.ytp-fullscreen:is(.ytp-fullscreen-grid-peeking,.ytp-fullscreen-grid-active) .ytp-chrome-bottom:style(bottom:0px!important;)
www.youtube.com##.html5-video-player.ytp-fullscreen:is(.ytp-fullscreen-grid-peeking,.ytp-fullscreen-grid-active):not(:is(.ytp-autohide,.ytp-autohide-active)) .ytp-chrome-bottom:style(opacity:unset!important;)
www.youtube.com##.html5-video-player.ytp-fullscreen:is(.ytp-fullscreen-grid-peeking,.ytp-fullscreen-grid-active) .ytp-overlays-container:style(bottom:calc(var(--yt-delhi-bottom-controls-height,72px)+30px)!important;)
www.youtube.com##.html5-video-player.ytp-fullscreen:is(.ytp-fullscreen-grid-peeking,.ytp-fullscreen-grid-active):not(:is(.ytp-autohide,.ytp-autohide-active)) .ytp-overlays-container:style(opacity:unset!important;)

! Disable grid scroll behavior
www.youtube.com##div.html5-video-player:style(--ytp-grid-scroll-percentage:0!important;)

! Ensure controls remain visible in fullscreen grid mode
www.youtube.com##div.html5-video-player.ytp-delhi-modern.ytp-fullscreen-grid-active .ytp-chrome-bottom:style(display:block!important;)

! WARNING:
! This filter disables the "wheel" event on the video player.
! If scrolling-related functionality breaks, remove this rule.
www.youtube.com##+js(aeld,wheel,,elements,.html5-video-player)


! --------------------------------------------------
! Search Page Cleanup
! --------------------------------------------------

! Keep only videos (no Shorts)
www.youtube.com##ytd-search ytd-item-section-renderer>#contents>:is(:not(ytd-video-renderer,yt-showing-results-for-renderer,[icon-name="promo-full-height:EMPTY_SEARCH"]),ytd-video-renderer:has([aria-label="Shorts"])),ytd-secondary-search-container-renderer

! Hide results based on channel names
www.youtube.com##ytd-search ytd-video-renderer:has(#text.ytd-channel-name:is([title="Exact channel name 1"],[title="Exact channel name 2"]))


! --------------------------------------------------
! Content Visibility & Layout
! --------------------------------------------------

! Hide members-only videos
www.youtube.com##ytd-rich-item-renderer:has(.yt-badge-shape--membership)

! Increase subscriptions grid to show 5 videos per row
www.youtube.com##ytd-browse[page-subtype="subscriptions"] ytd-rich-grid-renderer:style(--ytd-rich-grid-items-per-row:5!important;)
