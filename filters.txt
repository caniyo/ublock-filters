! Title: ðŸ§¹ BroomTube
! Author: caniyo
! License: MIT License
!
! A curated uBlock Origin filter list for YouTube cleanup.
! This file is a formatted version of proven working filters.
!
! =========================================================
! NOTE:
! - No selector logic was changed
! - No rules were merged, split, or optimized
! - Formatting & comments only
! =========================================================


! =========================================================
! SHORTS â€” HIDE EVERYWHERE
! =========================================================

! Homepage & Subscriptions (Grid View)
youtube.com##[is-shorts]

! Menu â€” Shorts button
www.youtube.com###guide [title="Shorts"]
www.youtube.com##.ytd-mini-guide-entry-renderer[title="Shorts"]

! Search â€” Shorts videos
www.youtube.com##ytd-search ytd-video-renderer:has([overlay-style="SHORTS"],[href^="/shorts/"])

! Search / Channels / Subscriptions / Sidebar â€” Shorts shelves
www.youtube.com##ytd-reel-shelf-renderer

! Channels â€” Shorts tab
www.youtube.com##[tab-title="Shorts"]

! Subscriptions â€” Grid View
www.youtube.com##ytd-browse[page-subtype="subscriptions"] ytd-grid-video-renderer:has([overlay-style="SHORTS"],[href^="/shorts/"])

! Subscriptions â€” List View
www.youtube.com##ytd-browse[page-subtype="subscriptions"] ytd-video-renderer:has([overlay-style="SHORTS"],[href^="/shorts/"])

! Subscriptions â€” New Layout
www.youtube.com##ytd-browse[page-subtype="subscriptions"] ytd-rich-item-renderer:has([overlay-style="SHORTS"],[href^="/shorts/"])

! Sidebar â€” Shorts
www.youtube.com###related :is(ytd-compact-video-renderer,yt-lockup-view-model):has([overlay-style="SHORTS"],[href^="/shorts/"])

! History â€” Shorts
www.youtube.com##ytd-item-section-renderer[page-subtype]:has(>#contents>[is-history]>#dismissible>ytd-thumbnail>#thumbnail[href^="/shorts/"])


! =========================================================
! LIVE STREAMS & VODS
! =========================================================

! Live videos
www.youtube.com##:is(
  ytd-rich-item-renderer,
  ytd-grid-video-renderer,
  ytd-compact-video-renderer,
  ytd-item-section-renderer
):has(.badge-style-type-live-now-alternate,.yt-spec-avatar-shape--live-ring)

! Streamed / VOD videos
www.youtube.com##:is(
  ytd-rich-item-renderer,
  ytd-grid-video-renderer,
  ytd-compact-video-renderer,
  ytd-item-section-renderer,
  ytd-video-renderer
):has([aria-label~="Streamed"])

! Streamed / VOD videos â€” backup (less efficient)
www.youtube.com##:is(
  ytd-rich-item-renderer,
  ytd-grid-video-renderer,
  ytd-compact-video-renderer,
  ytd-item-section-renderer,
  ytd-video-renderer
):not(:has([aria-label~="Streamed"]))
 :is(#metadata-line>span,.yt-content-metadata-view-model__metadata-row)
 :last-of-type:has-text(Streamed)
 :upward(
   ytd-rich-item-renderer,
   ytd-grid-video-renderer,
   ytd-compact-video-renderer,
   ytd-item-section-renderer,
   ytd-video-renderer
 )


! =========================================================
! FILTER BY CHANNEL OR TITLE
! =========================================================

! Home â€” channel URLs
youtube.com##ytd-browse[page-subtype="home"] ytd-rich-item-renderer:has(
  [href="/channel/channel1-ID-here"],
  [href="@/Channel2NameHere"]
)

! Home â€” video titles
youtube.com##ytd-browse[page-subtype="home"] ytd-rich-item-renderer:has(
  :is(#video-title-link,h3):is(
    [title*="Partial Match"],
    [title*="Case-Insensitive Partial Match"i],
    [title~="Space-separated-aka-Whole-word-match"]
  )
)

! Sidebar â€” video titles
youtube.com###related :is(ytd-compact-video-renderer,yt-lockup-view-model):has(
  :is(#video-title,h3):is(
    [title*="Partial Match"],
    [title*="Case-Insensitive Partial Match"i],
    [title~="Space-separated-aka-Whole-word-match"]
  )
)

! Sidebar â€” channel names
www.youtube.com###related
:is(ytd-compact-video-renderer,yt-lockup-view-model)
.yt-content-metadata-view-model__metadata-row:first-child>span
:has-text(/^(Channel Name 1|Channel Name 2)$/)
:upward(ytd-compact-video-renderer,yt-lockup-view-model)

! Mobile â€” channel URLs
m.youtube.com##ytm-media-item
.media-channel a:not([class])
:is([href="/@ChannelURL"], [href="/@AnotherChannelURL"])
:upward(ytm-media-item)


! =========================================================
! SEARCH CLEANUP
! =========================================================

! Keep only regular videos (no Shorts)
youtube.com##ytd-search ytd-item-section-renderer>#contents>:
is(
  :not(
    ytd-video-renderer,
    yt-showing-results-for-renderer,
    [icon-name="promo-full-height:EMPTY_SEARCH"]
  ),
  ytd-video-renderer:has([aria-label="Shorts"])
),
ytd-secondary-search-container-renderer

! Hide results by channel name
www.youtube.com##ytd-search ytd-video-renderer:has(
  #text.ytd-channel-name:is(
    [title="Exact channel name 1"],
    [title="Exact channel name 2"]
  )
)


! =========================================================
! LAYOUT â€” REMOVE EMPTY GAPS
! =========================================================

! Move homepage placeholders to the end
www.youtube.com##ytd-browse[page-subtype="home"]
:is(ytd-rich-grid-row, #contents.ytd-rich-grid-row)
:style(display: contents !important)

! Grid alignment fixes
www.youtube.com##ytd-rich-item-renderer[rendered-from-rich-grid][is-in-first-column]
:style(margin-left: calc(var(--ytd-rich-grid-item-margin)/2) !important)

www.youtube.com##ytd-rich-grid-renderer>#contents
:style(margin-left: calc(var(--ytd-rich-grid-gutter-margin)) !important)

www.youtube.com###content.ytd-rich-section-renderer
:style(
  margin-left: calc(var(--ytd-rich-grid-item-margin)/2) !important;
  margin-right: calc(var(--ytd-rich-grid-item-margin)*2.5) !important;
)


! =========================================================
! PLAYER OVERLAYS & FULLSCREEN
! =========================================================

! Paid promotions
youtube.com##.ytp-paid-content-overlay
youtube.com##.ytmPaidContentOverlayHost

! Pause recommendations
youtube-nocookie.com,youtube.com##.ytp-pause-overlay
youtube-nocookie.com,youtube.com##.show-video-thumbnail-button
~youtube-nocookie.com,~youtube.com##iframe ~ #topvbar > #rvid

! Endscreen recommendations
youtube.com##.html5-video-player.ended-mode .ytp-fullscreen-grid

! Fullscreen â€” remove suggestion grid on scroll
youtube.com##.html5-video-player.ytp-fullscreen:is(.ytp-fullscreen-grid-peeking,.ytp-fullscreen-grid-active) .ytp-fullscreen-grid
youtube.com##.html5-video-player.ytp-fullscreen:is(.ytp-fullscreen-grid-peeking,.ytp-fullscreen-grid-active) .ytp-gradient-bottom
youtube.com##div.html5-video-player:style(--ytp-grid-scroll-percentage: 0 !important)

! Disable mouse wheel event (known working)
www.youtube.com##+js(aeld, wheel, , elements, .html5-video-player )


! =========================================================
! MISC
! =========================================================

! Members-only videos
youtube.com##ytd-rich-item-renderer:has(.yt-badge-shape--membership)

! Increase grid to 5 videos
www.youtube.com##ytd-rich-grid-renderer:style(--ytd-rich-grid-items-per-row: 5 !important;)
